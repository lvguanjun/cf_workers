# Cloudflare Workers 脚本集

这个仓库包含了一些 Cloudflare Workers 的脚本，这些脚本可以在 Cloudflare Workers 环境中运行，以实现各种功能。

## 脚本说明

### hotlink_protection.js

这个脚本用于防止热链。当请求为 POST 方法，并且请求的来源不是预期的来源时，脚本会返回一个随机生成的响应，这个响应包含了一些随机生成的 "喵" 字符串和标点符号。

设置环境变量 `IP_LIST` ，即可指定 ip 黑名单，响应警告信息。用换行符分隔多个 IP 地址，支持 IP 段。

如果请求的来源是预期的来源，脚本则会正常处理请求。

### ban_oneapi.js

这个脚本主要用于拦截特定的 IP 地址和特定的 User-Agent。当请求来自于特定的 IP 地址，或者请求的 User-Agent 和 Referer 符合特定的条件时，脚本会返回特定的响应，而不是正常处理请求。

- 对于特定的 IP 地址，脚本会返回一个包含随机个数 "喵喵喵" 的响应。

    > 需要设置环境变量 `ATTACK_IP_LIST` ，用换行符分隔多个 IP 地址。

- 对于特定的 User-Agent 和 Referer（即 "Go-http-client/2.0" 和空 Referer），脚本会返回一个 403 消息的 JSON 响应。

在其他情况下，脚本会正常处理请求。

### touch_me.js

这个脚本主要用于在网页上添加一个可移动的 "更多信息" 浮动窗口。当用户点击这个窗口时，会显示出一些预设的站点信息和联系方式。

- 站点信息和联系方式是预设在脚本中的，可以根据需要进行修改。
- "更多信息" 浮动窗口在页面加载完成后会自动出现在页面的右下角，用户可以通过拖动来改变它的位置。
- 当用户点击浮动窗口时，会弹出一个包含站点信息和联系方式的列表。用户可以通过这个列表来访问预设的站点，或者通过预设的方式来进行反馈。
浮动窗口和列表的样式是预设在脚本中的，可以根据需要进行修改。
- 根据是否设置环境变量 `SHARE_UA = "true"` ，决定是否发送客户端的指纹给 [ninja 大佬](https://github.com/gngpp/ninja)

    > **当且仅当设置环境变量 `SHARE_UA` 为 `true` 时添加**

这个脚本主要用于提供一个方便用户访问站点信息和进行反馈的方式。